<button id="toggleButton" onclick="toggleFunction()">
  {% if configuration.stream_running == 'running' %}■{% else %}▶{% endif %}
</button>

<script>
  async function toggleFunction() {
    const button = document.getElementById('toggleButton'); 

    if (!button.innerHTML.includes('■')) {
      button.innerHTML = '■';
      // Start streaming
      const response = await fetch('/start_streaming', { method: 'POST' });
      if (response.ok) {
        console.log('Streaming started');
        button.innerHTML = '■';
      } else {
        console.error('Failed to start streaming');
      }
    } else {
      button.innerHTML = '▶';
      // Stop streaming
      const response = await fetch('/stop_streaming', { method: 'POST' });
      if (response.ok) {
        console.log('Streaming stopped');
      } else {
        console.error('Failed to stop streaming');
      }
    }
  }
</script>
